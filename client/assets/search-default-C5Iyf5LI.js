const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/algolia-IZEDLPHE-2120h3C3.js","assets/chunk-OTD7MV33-qJr9DjGl.js","assets/orama-cloud-74FM25SB-DUBH_knx.js","assets/chunk-ZMWYLUDP-oajMeTFk.js","assets/static-A2YJ5TXV-D_wjycCi.js","assets/mixedbread-RAHDVXGJ-CH2CjQvw.js","assets/index-CQ4oX9Ud.js"])))=>i.map(i=>d[i]);
import{r as c,j as o}from"./chunk-OIYGIGL5-BheAzwZ-.js";import{u as T,_ as j}from"./sidebar-q4gPrt-E.js";import{a as L,b as oe,I as re}from"./i18n-ms-wR4U0.js";import{u as se,c as ae,a as A,P as W,b as E,R as ce,d as ie,e as M,h as le,f as _,g as ue,F as de,D as fe,i as ge,t as x,S as he,j as pe,k as xe,C as me,H as ve}from"./Combination-BdwQx32Q.js";import{u as ye,e as De}from"./index-4Wzjh_Dz.js";import"./index-D-pmVXYH.js";function be(e,t=1e3){const[n,r]=c.useState(e),s=c.useRef(void 0);if(t===0)return e;if(e!==n&&s.current?.value!==e){s.current&&clearTimeout(s.current.handler);const a=window.setTimeout(()=>{r(e)},t);s.current={value:e,handler:a}}return n}function P(e,t){if(Array.isArray(e)&&Array.isArray(t))return t.length!==e.length||e.some((n,r)=>P(n,t[r]));if(typeof e=="object"&&e&&typeof t=="object"&&t){const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some(s=>P(e[s],t[s]))}return e!==t}function we(e,t,n,r=100,s=!1,a){const{delayMs:u=r??100,allowEmpty:d=s??!1,...i}=e;i.tag??=n,i.locale??=t;const[f,p]=c.useState(""),[l,g]=c.useState("empty"),[v,w]=c.useState(),[O,m]=c.useState(!1),D=be(f,u),N=c.useRef(void 0);return T([i,D],()=>{N.current&&(N.current(),N.current=void 0),m(!0);let V=!1;N.current=()=>{V=!0};async function ne(){if(D.length===0&&!d)return"empty";if(i.type==="fetch"){const{fetchDocs:h}=await j(async()=>{const{fetchDocs:b}=await import("./fetch-2XFMBLBA-F2YKbHTa.js");return{fetchDocs:b}},[]);return h(D,i)}if(i.type==="algolia"){const{searchDocs:h}=await j(async()=>{const{searchDocs:b}=await import("./algolia-IZEDLPHE-2120h3C3.js");return{searchDocs:b}},__vite__mapDeps([0,1]));return h(D,i)}if(i.type==="orama-cloud"){const{searchDocs:h}=await j(async()=>{const{searchDocs:b}=await import("./orama-cloud-74FM25SB-DUBH_knx.js");return{searchDocs:b}},__vite__mapDeps([2,3,1]));return h(D,i)}if(i.type==="static"){const{search:h}=await j(async()=>{const{search:b}=await import("./static-A2YJ5TXV-D_wjycCi.js");return{search:b}},__vite__mapDeps([4,3,1]));return h(D,i)}if(i.type==="mixedbread"){const{search:h}=await j(async()=>{const{search:b}=await import("./mixedbread-RAHDVXGJ-CH2CjQvw.js");return{search:b}},__vite__mapDeps([5,6]));return h(D,i)}throw new Error("unknown search client")}ne().then(h=>{V||(w(void 0),g(h))}).catch(h=>{w(h)}).finally(()=>{m(!1)})},P),{search:f,setSearch:p,query:{isLoading:O,data:l,error:v}}}var S="Dialog",[H]=ae(S),[Ce,y]=H(S),G=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:u=!0}=e,d=c.useRef(null),i=c.useRef(null),[f,p]=se({prop:r,defaultProp:s??!1,onChange:a,caller:S});return o.jsx(Ce,{scope:t,triggerRef:d,contentRef:i,contentId:A(),titleId:A(),descriptionId:A(),open:f,onOpenChange:p,onOpenToggle:c.useCallback(()=>p(l=>!l),[p]),modal:u,children:n})};G.displayName=S;var z="DialogTrigger",je=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=y(z,n),a=M(t,s.triggerRef);return o.jsx(E.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":F(s.open),...r,ref:a,onClick:_(e.onClick,s.onOpenToggle)})});je.displayName=z;var _e="DialogPortal",[ot,$]=H(_e,{forceMount:void 0}),R="DialogOverlay",K=c.forwardRef((e,t)=>{const n=$(R,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=y(R,e.__scopeDialog);return a.modal?o.jsx(W,{present:r||a.open,children:o.jsx(Ne,{...s,ref:t})}):null});K.displayName=R;var Ee=ie("DialogOverlay.RemoveScroll"),Ne=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=y(R,n);return o.jsx(ce,{as:Ee,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(E.div,{"data-state":F(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),C="DialogContent",q=c.forwardRef((e,t)=>{const n=$(C,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=y(C,e.__scopeDialog);return o.jsx(W,{present:r||a.open,children:a.modal?o.jsx(Re,{...s,ref:t}):o.jsx(Se,{...s,ref:t})})});q.displayName=C;var Re=c.forwardRef((e,t)=>{const n=y(C,e.__scopeDialog),r=c.useRef(null),s=M(t,n.contentRef,r);return c.useEffect(()=>{const a=r.current;if(a)return le(a)},[]),o.jsx(B,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:_(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&a.preventDefault()}),onFocusOutside:_(e.onFocusOutside,a=>a.preventDefault())})}),Se=c.forwardRef((e,t)=>{const n=y(C,e.__scopeDialog),r=c.useRef(!1),s=c.useRef(!1);return o.jsx(B,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=a.target;n.triggerRef.current?.contains(u)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),B=c.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...u}=e,d=y(C,n),i=c.useRef(null),f=M(t,i);return ue(),o.jsxs(o.Fragment,{children:[o.jsx(de,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(fe,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":F(d.open),...u,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Ae,{titleId:d.titleId}),o.jsx(Te,{contentRef:i,descriptionId:d.descriptionId})]})]})}),k="DialogTitle",U=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=y(k,n);return o.jsx(E.h2,{id:s.titleId,...r,ref:t})});U.displayName=k;var Y="DialogDescription",Ie=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=y(Y,n);return o.jsx(E.p,{id:s.descriptionId,...r,ref:t})});Ie.displayName=Y;var Z="DialogClose",Oe=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=y(Z,n);return o.jsx(E.button,{type:"button",...r,ref:t,onClick:_(e.onClick,()=>s.onOpenChange(!1))})});Oe.displayName=Z;function F(e){return e?"open":"closed"}var J="DialogTitleWarning",[rt,Q]=ge(J,{contentName:C,titleName:k,docsSlug:"dialog"}),Ae=({titleId:e})=>{const t=Q(J),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Pe="DialogDescriptionWarning",Te=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Q(Pe).contentName}}.`;return c.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null};const X=c.createContext(null),ee=c.createContext(null),te=c.createContext(null);function Le({open:e,onOpenChange:t,search:n,onSearchChange:r,isLoading:s=!1,children:a}){const[u,d]=c.useState(null);return o.jsx(G,{open:e,onOpenChange:t,children:o.jsx(X.Provider,{value:c.useMemo(()=>({open:e,onOpenChange:t,search:n,onSearchChange:r,active:u,setActive:d,isLoading:s}),[u,s,t,r,e,n]),children:a})})}function Me(e){return o.jsx("div",{...e,className:x("flex flex-row items-center gap-2 p-3",e.className)})}function ke(e){const{text:t}=L(),{search:n,onSearchChange:r}=I();return o.jsx("input",{...e,value:n,onChange:s=>r(s.target.value),placeholder:t.search,className:"w-0 flex-1 bg-transparent text-lg placeholder:text-fd-muted-foreground focus-visible:outline-none"})}function Fe({children:e="ESC",className:t,...n}){const{onOpenChange:r}=I();return o.jsx("button",{type:"button",onClick:()=>r(!1),className:x(pe({color:"outline",size:"sm",className:"font-mono text-fd-muted-foreground"}),t),...n,children:e})}function Ve(e){return o.jsx("div",{...e,className:x("bg-fd-secondary/50 p-3 empty:hidden",e.className)})}function We(e){return o.jsx(K,{...e,className:x("fixed inset-0 z-50 backdrop-blur-xs data-[state=open]:animate-fd-fade-in data-[state=closed]:animate-fd-fade-out",e.className)})}function He({children:e,...t}){const{text:n}=L();return o.jsxs(q,{"aria-describedby":void 0,...t,className:x("fixed left-1/2 top-4 md:top-[calc(50%-250px)] z-50 w-[calc(100%-1rem)] max-w-screen-sm -translate-x-1/2 rounded-xl border bg-fd-popover text-fd-popover-foreground shadow-2xl shadow-black/50 overflow-hidden data-[state=closed]:animate-fd-dialog-out data-[state=open]:animate-fd-dialog-in","*:border-b *:has-[+:last-child[data-empty=true]]:border-b-0 *:data-[empty=true]:border-b-0 *:last:border-b-0",t.className),children:[o.jsx(U,{className:"hidden",children:n.search}),e]})}function Ge({items:e=null,Empty:t=()=>o.jsx("div",{className:"py-12 text-center text-sm text-fd-muted-foreground",children:o.jsx(re,{label:"searchNoResult"})}),Item:n=s=>o.jsx(ze,{...s}),...r}){const s=c.useRef(null),[a,u]=c.useState(()=>e&&e.length>0?e[0].id:null),{onOpenChange:d}=I(),i=oe(),f=l=>{l.type==="action"?l.onSelect():l.external?window.open(l.url,"_blank")?.focus():i.push(l.url),d(!1)},p=ye(l=>{if(!(!e||l.isComposing)){if(l.key==="ArrowDown"||l.key=="ArrowUp"){let g=e.findIndex(v=>v.id===a);g===-1?g=0:l.key==="ArrowDown"?g++:g--,u(e.at(g%e.length)?.id??null),l.preventDefault()}if(l.key==="Enter"){const g=e.find(v=>v.id===a);g&&f(g),l.preventDefault()}}});return c.useEffect(()=>{const l=s.current;if(!l)return;const g=new ResizeObserver(()=>{const w=l.firstElementChild;l.style.setProperty("--fd-animated-height",`${w.clientHeight}px`)}),v=l.firstElementChild;return v&&g.observe(v),window.addEventListener("keydown",p),()=>{g.disconnect(),window.removeEventListener("keydown",p)}},[]),T(e,()=>{e&&e.length>0&&u(e[0].id)}),o.jsx("div",{...r,ref:s,"data-empty":e===null,className:x("overflow-hidden h-(--fd-animated-height) transition-[height]",r.className),children:o.jsx("div",{className:x("w-full flex flex-col overflow-y-auto max-h-[460px] p-1",!e&&"hidden"),children:o.jsxs(ee.Provider,{value:c.useMemo(()=>({active:a,setActive:u}),[a]),children:[e?.length===0&&t(),e?.map(l=>o.jsx(c.Fragment,{children:n({item:l,onClick:()=>f(l)})},l.id))]})})})}function ze({item:e,className:t,children:n,renderHighlights:r=Ue,...s}){const{active:a,setActive:u}=Ze(),d=e.id===a;return e.type==="action"?n??(n=e.node):n??(n=o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"inline-flex items-center text-fd-muted-foreground text-xs empty:hidden",children:e.breadcrumbs?.map((i,f)=>o.jsxs(c.Fragment,{children:[f>0&&o.jsx(me,{className:"size-4"}),i]},f))}),e.type!=="page"&&o.jsx("div",{role:"none",className:"absolute start-3 inset-y-0 w-px bg-fd-border"}),o.jsxs("p",{className:x("min-w-0 truncate",e.type!=="page"&&"ps-4",e.type==="page"||e.type==="heading"?"font-medium":"text-fd-popover-foreground/80"),children:[e.type==="heading"&&o.jsx(ve,{className:"inline me-1 size-4 text-fd-muted-foreground"}),e.contentWithHighlights?r(e.contentWithHighlights):e.content]})]})),o.jsx("button",{type:"button",ref:c.useCallback(i=>{d&&i&&De(i,{scrollMode:"if-needed",block:"nearest",boundary:i.parentElement})},[d]),"aria-selected":d,className:x("relative select-none px-2.5 py-2 text-start text-sm rounded-lg",d&&"bg-fd-accent text-fd-accent-foreground",t),onPointerMove:()=>u(e.id),...s,children:n})}function $e(e){const{isLoading:t}=I();return o.jsx(he,{...e,className:x("size-5 text-fd-muted-foreground",t&&"animate-pulse duration-400",e.className)})}const Ke=xe("rounded-md border px-2 py-0.5 text-xs font-medium text-fd-muted-foreground transition-colors",{variants:{active:{true:"bg-fd-accent text-fd-accent-foreground"}}});function qe({tag:e,onTagChange:t,allowClear:n=!1,...r}){return o.jsx("div",{...r,className:x("flex items-center gap-1 flex-wrap",r.className),children:o.jsx(te.Provider,{value:c.useMemo(()=>({value:e,onValueChange:t,allowClear:n}),[n,t,e]),children:r.children})})}function Be({value:e,className:t,...n}){const{onValueChange:r,value:s,allowClear:a}=Ye(),u=e===s;return o.jsx("button",{type:"button","data-active":u,className:x(Ke({active:u,className:t})),onClick:()=>{r(u&&a?void 0:e)},tabIndex:-1,...n,children:n.children})}function Ue(e){return e.map((t,n)=>t.styles?.highlight?o.jsx("span",{className:"text-fd-primary underline",children:t.content},n):o.jsx(c.Fragment,{children:t.content},n))}function I(){const e=c.useContext(X);if(!e)throw new Error("Missing <SearchDialog />");return e}function Ye(){const e=c.useContext(te);if(!e)throw new Error("Missing <TagsList />");return e}function Ze(){const e=c.useContext(ee);if(!e)throw new Error("Missing <SearchDialogList />");return e}function st({defaultTag:e,tags:t=[],api:n,delayMs:r,type:s="fetch",allowClear:a=!1,links:u=[],footer:d,...i}){const{locale:f}=L(),[p,l]=c.useState(e),{search:g,setSearch:v,query:w}=we(s==="fetch"?{type:"fetch",api:n,locale:f,tag:p,delayMs:r}:{type:"static",from:n,locale:f,tag:p,delayMs:r}),O=c.useMemo(()=>u.length===0?null:u.map(([m,D])=>({type:"page",id:m,content:m,url:D})),[u]);return T(e,m=>{l(m)}),o.jsxs(Le,{search:g,onSearchChange:v,isLoading:w.isLoading,...i,children:[o.jsx(We,{}),o.jsxs(He,{children:[o.jsxs(Me,{children:[o.jsx($e,{}),o.jsx(ke,{}),o.jsx(Fe,{})]}),o.jsx(Ge,{items:w.data!=="empty"?w.data:O})]}),o.jsxs(Ve,{children:[t.length>0&&o.jsx(qe,{tag:p,onTagChange:l,allowClear:a,children:t.map(m=>o.jsx(Be,{value:m.value,children:m.name},m.value))}),d]})]})}export{st as default};
