---
title: Scalable Deployment
description: |
  Scalable and Zero-Downtime Deployments with Managed Instance Groups and CI/CD
---

This document summarizes a technical discussion about how to deploy, scale, and update applications using instance groups â€” collections of identical servers that are managed as a single unit.
It explains the concepts of immutable infrastructure, rolling updates, and zero-downtime deployments, showing how new versions of an application can be released safely without disrupting active users.

<svg viewBox="0 0 1300 800" width="100%">
  <use href="../../managed-instance-group.svg" />
</svg>

## Overview

First let's see the overview of the topic. These are our goals that we want to achieve with Google Cloud (If you worked with other cloud providers, you can still follow this document. Usually there are equivalent features in other cloud providers):

- automatically with CI
- autoscale feature
- no downtime during deployment

<svg viewBox="260 -20 600 300" width="100%">
  <use href="../../managed-instance-group.svg" />
</svg>

## Steps

<div className="fd-steps">
  <div className="fd-step">
    ### Push & CI/CD
    The first step is pushing our code. First make sure to increase your version in your package.json file. We are going to need this new version in the next steps. Then push your code to the repository. We are going to use gitlab ci or GitHub Actions for CI/CD. Note that we can get this version (e.g `1.0.0`) from the package.json file as following: `VERSION=$(node -p "require('./package.json').version")`.

  ```npm
  npm version minor
  ```

  Then just push your code.

  
  <svg viewBox="290 220 600 300" width="100%">
    <use href="../../managed-instance-group.svg" />
  </svg>
  </div >

  <div className="fd-step">
    ### Init Google CLI
    Now we need to be able to run `gcloud` commands. We are going to use `gcloud` to manage our instance groups. It depends on your ci/cd tool.

    <Tabs items={['Gitlab CI', 'GitHub Actions']}>
      <Tab value="Gitlab CI">
        ```yaml
        deploy_to_gcp:
          stage: deploy
          image: google/cloud-sdk:latest
          variables:
            VERSION: ""
          script:
            # 1. Install Node.js (required to read package.json version)
            - curl -fsSL https://deb.nodesource.com/setup_20.x | bash -
            - apt-get install -y nodejs

            # 2. Get version from package.json
            - VERSION=$(node -p "require('./package.json').version")
            - echo "VERSION=$VERSION"
            - export VERSION

            # 3. Authenticate with GCP
            - echo "$GCP_SA_KEY" > gcp-key.json
            - gcloud auth activate-service-account --key-file=gcp-key.json
            - gcloud config set project $GCP_PROJECT
        ```
      </Tab>
      <Tab value="GitHub Actions">
        ```yaml
        # Checkout is not automatic in GitHub Actions
        steps:
          - name: Checkout code
            uses: actions/checkout@v4

          - name: Get version
            id: vars
            run: |
              VERSION=$(node -p "require('./package.json').version")
              echo "version=$VERSION" >> $GITHUB_OUTPUT

          - name: Authenticate gcloud
            uses: google-github-actions/auth@v2
            with:
              credentials_json: ${{ secrets.GCP_SA_KEY }}
        ```
      </Tab>
    </Tabs>

  
  <svg viewBox="650 215 600 300" width="100%">
    <use href="../../managed-instance-group.svg" />
  </svg>
  </div >
</div>